
<?php
require 'data.php';

if ($_SERVER["REQUEST_METHOD"] == "POST"  && isset($_POST['login'])) {

    $email = $_POST['id_user'];
    $password = $_POST['password'];

    $query = $data->prepare("SELECT * FROM USERS  WHERE  mot_de_passe = :mot_de_passe AND email = :email  " );

    $query->bindParam(':mot_de_passe', $password);
    $query->bindParam(':email', $email);
    $query->execute();

    $user = $query->fetch();

    if($user){

        session_start();

        //on stocke toute les informations users dans les v de session 
        $_SESSION['email'] = $user['email'];
        $_SESSION['mot_de_passe'] = $user['mot_de_passe'];
        $_SESSION['sexe'] = $user['sexe'];
        $_SESSION['date_naissance'] = $user['date_naissance'];
        $_SESSION['nom'] = $user['nom'];
        $_SESSION['prenom'] = $user['prenom'];
        $_SESSION['id_role'] = $user['id_role'];
        $_SESSION['id_station'] = $user['id_station'];
        $_SESSION['adresse'] = $user['adresse'];
        $_SESSION['telephone'] = $user['telephone']; 

        //pour verifier dans certaines  pages qu'on est connectÃ©
        $_SESSION['is_logged_in'] = true;

        header('Location: accueil.php');

        exit();

    }
    else{
        echo "ImpossibleZ de vous connecter";
    }

}

?>



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link href="css/index.css"   rel="stylesheet" >
    
</head>
<body>

<div class="login-container">
    <h2>Login</h2>
    <div class="logo">
        <img src="data:image/jpeg;base64,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" alt="Logo">
    </div>
    <form action="" method="POST">
        <input type="text" name="id_user" placeholder="ID" required>
        <input type="password" name="password" placeholder="Password" required>
        <button type="submit" name="login">Login</button>
    </form>
</div>

</body>
</html>
